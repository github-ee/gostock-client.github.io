<html><head><link rel="import" href="../bower_components/polymer/polymer-element.html"><link rel="import" href="../bower_components/app-route/app-route.html"><link rel="import" href="../bower_components/polymer/lib/elements/dom-repeat.html"><link rel="import" href="../bower_components/iron-ajax/iron-ajax.html"><link rel="import" href="../bower_components/iron-selector/iron-selector.html"><link rel="import" href="../bower_components/iron-pages/iron-pages.html"><link rel="import" href="../bower_components/paper-input/paper-input.html"><link rel="import" href="../bower_components/iron-localstorage/iron-localstorage.html"><link rel="import" href="../bower_components/brum-global-variable/brum-global-variable.html"><link rel="import" href="elements/gostock-company-row.html"><link rel="import" href="elements/gostock-company-details.html"><link rel="import" href="elements/gostock-company-buy.html"><link rel="import" href="elements/gostock-company-sell.html"><link rel="import" href="shared-styles.html"></head><body><dom-module id="gostock-asxlist"><template><style include="shared-styles">:host{display:block;padding:10px;}#myInput{width:350px;font-family:'Open Sans', sans, sans-serif;font-weight:600;color:black;font-size:25px;margin-top:20px;margin-bottom:30px;border:none;outline:none;caret-color :#34BB77;}#myInput::placeholder{color:rgba(0,0,0, 0.4);}#myInputLine{width:350px;height:1px;margin-top:10px;background-color:#34BB77;}.card{background-color:none;}#details{display:var(--hide-details);}</style><brum-global-variable key="userData" value="{{storedUser}}"></brum-global-variable><iron-localstorage name="user-storage" value="[[storedUser]]"></iron-localstorage><app-route route="[[route]]" pattern="/details/:id" data="{{routeData}}" active="{{detailsActive}}"></app-route><app-route route="[[route]]" pattern="/details/:id/:page" data="{{routeData}}" tail="{{subroute}}"></app-route><div class="card" hidden$="{{detailsActive}}"><h1>ASX 200 LIST</h1><paper-input type="text" id="myInput" placeholder="Search" value="{{filterVal::input}}"></paper-input><iron-ajax auto="" url="data/companies.json" handle-as="json" last-response="{{companies}}" on-response="postComplete"></iron-ajax><iron-selector id="companySelector" attr-for-selected="code" on-iron-select="_companySelected"><dom-repeat items="{{companies.companies}}" filter="{{_filter(filterVal)}}"><template><gostock-company-row company="{{item.company}}" code="{{item.code}}"></gostock-company-row></template></dom-repeat></iron-selector></div><div class="card" id="details" hidden$="{{!detailsActive}}"><gostock-company-details code="{{routeData.id}}"></gostock-company-details></div><iron-pages selected="[[routeData.page]]" attr-for-selected="name"><gostock-company-buy code="{{routeData.id}}" name="buy" route="{{subroute}}"></gostock-company-buy><gostock-company-sell code="{{routeData.id}}" name="sell" route="{{subroute}}"></gostock-company-sell></iron-pages></template><script>class GoStockAsxList extends Polymer.Element{constructor(){super(),this._selectedRow=null}static get is(){return'gostock-asxlist'}static get properties(){return{route:Object,routeData:Object,id:{type:String,reflectToAttribute:!0,observer:'_idChanged'},inputText:{type:String,observer:'_onkeyPress'},page:{type:String,reflectToAttribute:!0,observer:'_viewChanged'}}}static get observers(){return['_routeIdChanged(routeData.id)','_routeViewChanged(routeData.page)']}postComplete(){}_onkeyPress(){console.log(this.inputText),console.log(this.newRow.code)}_filter(a){return function(b){return!a||!!b&&(b.code.toUpperCase()&&~b.code.toUpperCase().indexOf(a.toUpperCase())||b.company.toUpperCase()&&~b.company.toUpperCase().indexOf(a.toUpperCase()))}}_routeIdChanged(a){a?(console.log('Route id Changed to id: '+a),this.updateStyles({"--hide-details":'block'})):console.log('Route changed but id is null or undefined')}_idChanged(){}_companySelected(){var a=this.$.companySelector.selectedItem;this._selectedRow&&this._selectedRow.rowDeselectedEvent('foo'),a.rowSelectedEvent('bar'),this._selectedRow=a}_routeViewChanged(a){a?(console.log('Route Page Changed to view: '+a),this.updateStyles({"--hide-details":'none'})):console.log('Route undefined')}_viewChanged(){}}window.customElements.define(GoStockAsxList.is,GoStockAsxList);</script></dom-module></body></html>